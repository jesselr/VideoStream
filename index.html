<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>North Pole Operations</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
  body {
    margin: 0;
    background: #052e16;
    color: #fef3c7;
    font-family: system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
    overflow: hidden;
  }

  .page {
    display: grid;
    grid-template-rows: auto 1fr 48px;
    height: 100vh;
    padding: 4vh 4vw;
    box-sizing: border-box;
  }

  header {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    margin-bottom: 2vh;
  }

  .title {
    font-size: 4.5vw;
    font-weight: 700;
  }

  .datetime {
    text-align: right;
  }

  .time {
    font-size: 3.5vw;
    font-weight: 700;
  }

  .date {
    font-size: 2vw;
    opacity: 0.9;
  }

  .countdown {
    margin-top: 0.6vh;
    font-size: 2vw;
    font-weight: 600;
  }

  .quote {
    margin-top: 0.6vh;
    font-size: 1.7vw;
    font-style: italic;
    color: #dcfce7;
    opacity: 0.95;
  }

  .content {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 3vw;
  }

  .panel {
    background: rgba(0,0,0,0.25);
    border-radius: 1.5vw;
    padding: 2.5vh 2vw;
  }

  .panel h2 {
    margin: 0 0 1.5vh 0;
    font-size: 2.6vw;
    font-weight: 600;
  }

  .item {
    font-size: 2.1vw;
    margin-bottom: 1.2vh;
  }

  footer {
    overflow: hidden;
    white-space: nowrap;
    font-size: 2vw;
    opacity: 0.95;
  }

  .ticker {
    display: inline-block;
    padding-left: 100%;
    animation: scroll 90s linear infinite;
  }

  @keyframes scroll {
    from { transform: translateX(0); }
    to { transform: translateX(-100%); }
  }
</style>
</head>

<body>
<div class="page">

<header>
  <div class="title" id="title"></div>
  <div class="datetime">
    <div class="time" id="time"></div>
    <div class="date" id="date"></div>
    <div class="countdown" id="countdown"></div>
    <div class="quote" id="quote"></div>
  </div>
</header>

<div class="content">
  <div class="panel">
    <h2 id="scheduleTitle"></h2>
    <div id="events"></div>
  </div>

  <div class="panel">
    <h2 id="noticeTitle"></h2>
    <div id="notices"></div>
  </div>
</div>

<footer>
  <div class="ticker" id="ticker"></div>
</footer>

</div>

<script>
/* CLOCK */
function updateClock() {
  const now = new Date();
  document.getElementById("time").textContent =
    now.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });
  document.getElementById("date").textContent =
    now.toLocaleDateString([], { weekday: 'long', month: 'long', day: 'numeric' });
}
setInterval(updateClock, 1000);
updateClock();

/* COUNTDOWN */
function updateCountdown() {
  const now = new Date();
  const year = now.getFullYear();
  let christmas = new Date(year, 11, 25, 0, 0, 0);
  if (now > christmas) christmas = new Date(year + 1, 11, 25, 0, 0, 0);

  const diff = christmas - now;
  const days = Math.floor(diff / (1000 * 60 * 60 * 24));
  const hours = Math.floor((diff / (1000 * 60 * 60)) % 24);
  const minutes = Math.floor((diff / (1000 * 60)) % 60);

  document.getElementById("countdown").textContent =
    `üéÅ ${days} days ${hours} hours ${minutes} minutes until Christmas`;
}
updateCountdown();
setInterval(updateCountdown, 60000);

/* STORY ‚Äî FIXED START DATE */
const STORY_START = new Date(2025, 11, 20); // FRIDAY
STORY_START.setHours(0,0,0,0);

const today = new Date();
today.setHours(0,0,0,0);

const dayOffset = Math.max(
  0,
  Math.floor((today - STORY_START) / 86400000)
);

/* ACT 0 = normal-ish, ACT 1 = ELF TOOK OVER */
const acts = [
  {
    title: "üéÑ Today at the North Pole",
    quote: [
      "Hard work builds character.",
      "Sugar cookies improve morale."
    ],
    scheduleTitle: "‚ùÑÔ∏è Workshop Schedule",
    events: [
      "8:00 AM ‚Äî Elf shift begins",
      "10:30 AM ‚Äî Toy inspection",
      "3:30 PM ‚Äî Cookie & cocoa break"
    ],
    noticeTitle: "üéÅ Notices",
    notices: [
      "Please return tools to labeled shelves",
      "No singing near conveyor belts"
    ],
    ticker: [
      "Workshop operations running smoothly",
      "Cookie inventory stable"
    ]
  },
  {
    title: "üßù Today at the North Pole (Managed by Elves)",
    quote: [
      "I reorganized the schedule. It makes sense now.",
      "This button looked important so I pressed it.",
      "Productivity improves with music."
    ],
    scheduleTitle: "‚ùÑÔ∏è Workshop Schedule (Elf Edition)",
    events: [
      "8:00 AM ‚Äî Elf shift begins",
      "9:15 AM ‚Äî Mandatory candy cane tasting",
      "3:30 PM ‚Äî Cookie & cocoa break (extended)",
      "After 4:00 PM ‚Äî Festive decision making"
    ],
    noticeTitle: "üéÅ Important Notices",
    notices: [
      "Keyboard privileges under review",
      "Santa has questions",
      "Elves have answers (mostly)"
    ],
    ticker: [
      "North Pole IT investigating unauthorized changes",
      "Elves deny involvement while smiling",
      "Santa requests system credentials"
    ]
  }
];

const act = dayOffset >= 0 ? 1 : 0;
const content = acts[act];

/* RENDER */
document.getElementById("title").textContent = content.title;
document.getElementById("scheduleTitle").textContent = content.scheduleTitle;
document.getElementById("noticeTitle").textContent = content.noticeTitle;

content.events.forEach(e =>
  document.getElementById("events").innerHTML += `<div class="item">${e}</div>`
);

content.notices.forEach(n =>
  document.getElementById("notices").innerHTML += `<div class="item">${n}</div>`
);

document.getElementById("ticker").textContent =
  content.ticker.join(" ‚ùÑÔ∏è ");

function rotateQuote() {
  const q = content.quote[Math.floor(Math.random() * content.quote.length)];
  document.getElementById("quote").textContent = `"${q}"`;
}
rotateQuote();
setInterval(rotateQuote, 10 * 60 * 1000);
</script>

</body>
</html>
